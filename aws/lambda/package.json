{
  "name": "ticketbottle-lambda-functions",
  "version": "1.0.0",
  "description": "AWS Lambda functions for TicketBottle V2",
  "private": true,
  "scripts": {
    "build": "npm run build:all",
    "build:all": "npm run build:webhook && npm run build:outbox && npm run build:cleanup && npm run build:email && npm run build:pdf",
    "build:webhook": "esbuild payment-webhook-handler/index.ts --bundle --platform=node --target=node18 --outdir=dist/payment-webhook-handler --external:@prisma/client",
    "build:outbox": "esbuild outbox-processor/index.ts --bundle --platform=node --target=node18 --outdir=dist/outbox-processor --external:@prisma/client",
    "build:cleanup": "esbuild outbox-cleanup/index.ts --bundle --platform=node --target=node18 --outdir=dist/outbox-cleanup --external:@prisma/client",
    "build:email": "esbuild email-sender/index.ts --bundle --platform=node --target=node18 --outdir=dist/email-sender",
    "build:pdf": "esbuild pdf-generator/index.ts --bundle --platform=node --target=node18 --outdir=dist/pdf-generator --external:pdfkit",
    "package": "npm run build && npm run zip:all",
    "zip:all": "cd dist && for d in */; do cd $d && zip -r ../${d%/}.zip . && cd ..; done"
  },
  "dependencies": {
    "@aws-sdk/client-cloudwatch": "^3.500.0",
    "@aws-sdk/client-s3": "^3.500.0",
    "@aws-sdk/client-ses": "^3.500.0",
    "@prisma/client": "^5.10.0",
    "kafkajs": "^2.2.4",
    "pdfkit": "^0.14.0",
    "qrcode": "^1.5.3"
  },
  "devDependencies": {
    "@types/aws-lambda": "^8.10.130",
    "@types/node": "^20.10.0",
    "@types/pdfkit": "^0.13.3",
    "@types/qrcode": "^1.5.5",
    "esbuild": "^0.20.0",
    "typescript": "^5.3.0"
  },
  "engines": {
    "node": ">=18.0.0"
  }
}
